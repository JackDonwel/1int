{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="row justify-content-center mt-5">
    <div class="col-md-8 col-lg-6">
      <div class="card shadow-lg border-0 glass-card"> 
            <div class="card-header bg-primary text-white py-3">
                <h2 class="h4 mb-0 text-center"><i class="bi bi-shield-lock me-2"></i>TLS Advocate Login</h2>
            </div>
            <div class="card-body p-4">
                <form method="post" class="needs-validation" novalidate>
                    {% csrf_token %}
                    
                                     <!-- TLS ID/Email Input -->
                    <div class="mb-4">
                        <label for="id_username" class="form-label fw-bold text-primary">
                            <i class="bi bi-person-badge me-1"></i>TLS ID / Email
                        </label>
                        <input type="text" 
                               class="form-control form-control-lg border-primary" 
                               id="id_username" 
                               name="username" 
                               placeholder="Enter your TLS ID or email" 
                               required>
                        <div class="invalid-feedback">
                            Please enter your TLS ID or registered email
                        </div>
                    </div>

                                      <!-- Password Input -->
                    <div class="mb-4">
                        <label for="id_password" class="form-label fw-bold text-primary">
                            <i class="bi bi-key me-1"></i>Password
                        </label>
                        <input type="password" 
                               class="form-control form-control-lg border-primary" 
                               id="id_password" 
                               name="password" 
                               placeholder="Enter your password" 
                               required>
                        <div class="invalid-feedback">
                            Please enter your password
                        </div>
                    </div>

                                         <!-- Remember Me & Forgot Password -->
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="rememberMe">
                            <label class="form-check-label small text-muted" for="rememberMe">
                                Remember me
                            </label>
                        </div>
                        <a href="#" class="small text-primary text-decoration-none">
                            Forgot Password?
                        </a>
                    </div>

                                         <!-- Submit Button -->
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary btn-lg py-3 fw-bold">
                            <i class="bi bi-box-arrow-in-right me-2"></i>Login to Portal
                        </button>
                    </div>
                        {% if error %}
                        <div class="text-red-600">{{ error }}</div>
                        {% endif %}
                                            <!-- Registration Link -->
                    <div class="text-center mt-4">
                        <p class="mb-0 text-muted">
                            Not registered? 
                            <a href="{% url 'signup' %}" class="text-primary text-decoration-none fw-bold">
                                Create TLS Account
                            </a>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Validation Script (same as registration) -->
<script>
(function () {
  'use strict'
  const forms = document.querySelectorAll('.needs-validation')
  Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault()
        event.stopPropagation()
      }
      form.classList.add('was-validated')
    }, false)
  })
})()
</script>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<style>
<style>
   

    .glass-card {
        background-color: rgb(0, 0, 0);
        border-radius: 20px;
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .glass-card .card-header {
        background-color: rgba(0, 64, 133, 0.85) !important;
        border-top-left-radius: 20px;
        border-top-right-radius: 20px;
    }

    .glass-card .form-label,
    .glass-card .text-primary,
    .glass-card .form-check-label,
    .glass-card .form-control::placeholder,
    .glass-card .text-muted {
        color:rgb(54, 49, 49) !important;
    }

    .glass-card .form-control {
        background-color: rgba(255, 255, 255, 0.32);
        color: rgba(51, 46, 46, 0.59);
        border: 1px solid rgba(255, 255, 255, 0.4);
    }

    .glass-card .form-control:focus {
        background-color: rgba(137, 133, 133, 0.7);
        color: #fff;
        box-shadow: 0 0 8px rgba(10, 10, 10, 0.62);
        border-color:rgb(80, 155, 234);
    }

    .glass-card .form-check-input {
        background-color: rgba(89, 137, 188, 0.61);
        border: 1px solid rgba(36, 36, 83, 0.81);
    }

    .glass-card .form-check-input:checked {
        background-color: #004085;
        border-color: #004085;
    }

    .glass-card .btn-primary {
        background-color:rgba(0, 64, 133, 0.64);
        border-color:rgba(0, 64, 133, 0.8);
        transition: all 0.3s ease-in-out;
    }

    .glass-card .btn-primary:hover {
        background-color: #002752;
        border-color:rgba(0, 40, 82, 0.71);
    }

    .glass-card a {
        color:rgba(8, 8, 8, 0.82);
    }

    .glass-card a:hover {
        color:rgba(56, 93, 167, 0.72);
        text-decoration: underline;
    }
</style>

</style>
{% endblock %}